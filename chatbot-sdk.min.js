!(function () {
	let t = document.currentScript,
		e = t.getAttribute("data-fab-bg-color") || "#24E186CC",
		i = "https://i.ibb.co/CthkwCV/img-robot-face.png",
		l = t.getAttribute("data-iframe-src") || "",
		a = t.getAttribute("data-iframe-width") || 320,
		d = t.getAttribute("data-iframe-height") || 532,
		o = !0;
	if (!l) {
		console.error("Techvillage Talk SDK: iframe source is not set");
		return;
	}
	let n = `
        <div class="techvill-widget-fab-container">
            <button id="techvill-widget-fab" class="techvill-widget-fab-button" style="background-color: ${e}"></button>
        </div>
        <div id="techvill-widget-chat-modal" class="techvill-widget-chat-modal">
            <div class="techvill-widget-chat-body">
                ${
									l
										? `<iframe 
                        src="${l}"
                        height=${d}
                        width=${a}
                        title="Techvillage support chat"
                        frameborder="0" 
                        allowfullscreen="true" 
                        allowtransparency="true"
						id="techvill-widget-iframe"
						onload="window.parent.postMessage('techvill-widget-iframe-loaded', '*')"
						name="techvill-widget-iframe"
                    ></iframe>`
										: `<div class="techvill-widget-notfound-iframe">
                        <h1>Chat widget</h1>
                        <p>iframe source is not set</p>
                    </div>`
								}
            </div>
        </div>
    `,
		r = document.createElement("style");
	(r.textContent = `
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }
        .techvill-widget-fab-container {
            position: fixed;
            bottom: 20px;
            right: 21px;
            z-index: 1500;
        }
        .techvill-widget-fab-button {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            color: #fff;
            border: none;
            cursor: pointer;
			background-color: #24E186CC;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);
			transition: all 0.1s ease-in-out;
        }
        .techvill-widget-fab-icon {
            height: 47px;
            width: 47px;
        }
        .techvill-widget-chat-modal {
            visibility: hidden;
			opacity: 0;
            position: fixed;
            bottom: 70px;
            right: 21px;
            background-color: #fff;
            z-index: 1000;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.3); 
            transition: all 0.2s ease-in-out;
        }
        .techvill-widget-notfound-iframe {
            min-height: 532px;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .techvill-widget-notfound-iframe p{
            margin: 0;
            padding: 0;
            color: #000;
        }
    `),
		document.body.insertAdjacentHTML("beforeend", n),
		document.head.appendChild(r);
	let c = document.getElementById("techvill-widget-fab");
	(c.innerHTML = `<img src="${i}" alt="open"/>`),
		c.addEventListener("click", function () {
			o
				? ((document.getElementById(
						"techvill-widget-chat-modal"
				  ).style.visibility = "visible"),
				  (document.getElementById("techvill-widget-chat-modal").style.bottom =
						"110px"),
				  (document.getElementById("techvill-widget-chat-modal").style.opacity =
						"1"),
				  (c.innerHTML = `<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path fill-rule="evenodd" clip-rule="evenodd" d="M0.536971 0.536971C1.25293 -0.17899 2.41373 -0.17899 3.1297 0.536971L11 8.40728L18.8703 0.536971C19.5863 -0.17899 20.7471 -0.17899 21.463 0.536971C22.179 1.25293 22.179 2.41373 21.463 3.1297L13.5927 11L21.463 18.8703C22.179 19.5863 22.179 20.7471 21.463 21.463C20.7471 22.179 19.5863 22.179 18.8703 21.463L11 13.5927L3.1297 21.463C2.41373 22.179 1.25293 22.179 0.536971 21.463C-0.17899 20.7471 -0.17899 19.5863 0.536971 18.8703L8.40728 11L0.536971 3.1297C-0.17899 2.41373 -0.17899 1.25293 0.536971 0.536971Z" fill="white"/>
			</svg>`),
				  (c.style.transform = "rotate(90deg)"),
				  (c.style.transition = "all 0.2s ease-in-out"))
				: ((c.innerHTML = `<img id="chat-icon" src="${i}" alt="open"/>`),
				  (document.getElementById(
						"techvill-widget-chat-modal"
				  ).style.visibility = "hidden"),
				  (document.getElementById("techvill-widget-chat-modal").style.bottom =
						"70px"),
				  (document.getElementById("techvill-widget-chat-modal").style.opacity =
						"0"),
				  (c.style.transform = "rotate(0deg)"),
				  (c.style.transition = "all 0.08s ease-in-out")),
				(o = !o);
		});
})();
